import{d as N,g as b,j as P,k as R,c as f,b as r,h as a,a as E,l as S,t as x,F as I,r as T,v as j,u as D,w as p,E as C,m as V,f as F,p as W,e as l,o as v,_ as G}from"./index-CA0K-lJf.js";import{G as H}from"./Ga-Top-Cp0RJZZg.js";const B=()=>{const c=navigator.userAgent;if(!c)return 4;const u=/Android|webOS|iPhone|iPad|iPod/i,i=/Macintosh|Windows/i;return u.test(c)?1:i.test(c)?3:4},K=()=>B()===1,O={getDeviceType:B,isMobile:K},U={class:"zh"},Z={class:"transcription"},q={class:"en"},J={class:"mobile"},Q=N({__name:"index",setup(c){const u=O.isMobile(),i=[{zh:"单元",en:"unit",phonetic_transcription:"/ˈjuːnɪt/"},{zh:"过渡单元",en:"starter",phonetic_transcription:"/ˈstɑːtə(r)/"},{zh:"部分；地区",en:"section",phonetic_transcription:"/ˈsekʃn/"},{zh:"招呼；问候",en:"greet",phonetic_transcription:"/ɡriːt/"},{zh:"每个；各自",en:"each",phonetic_transcription:"/iːtʃ/"},{zh:"另外的人（或物）；另外的；其他的",en:"other",phonetic_transcription:"/ˈʌðə(r)/"},{zh:"互相；彼此",en:"each other",phonetic_transcription:"/iːtʃ ˈʌðə(r)/"},{zh:"哦；啊",en:"oh",phonetic_transcription:"/əʊ/"},{zh:"每人；所有人",en:"everyone",phonetic_transcription:"/ˈevriwʌn/"},{zh:"开始；着手",en:"start",phonetic_transcription:"/stɑːt/"},{zh:"谈话；交谈",en:"conversation",phonetic_transcription:"/ˌkɒnvəˈseɪʃn/"},{zh:"用字母拼；拼写",en:"spell",phonetic_transcription:"/spel/"},{zh:"铃（声）；钟（声）",en:"bell",phonetic_transcription:"/bel/"},{zh:"海伦",en:"Helen",phonetic_transcription:"/ˈhelən/"},{zh:"埃拉",en:"Ella",phonetic_transcription:"/ˈelə/"},{zh:"埃玛",en:"Emma",phonetic_transcription:"/ˈemə/"},{zh:"彼得",en:"Peter",phonetic_transcription:"/ˈpiːtə(r)/"},{zh:"布朗",en:"Brown",phonetic_transcription:"/braʊn/"},{zh:"中华人民共和国",en:"PRC",phonetic_transcription:"/ˌpiː ɑː(r) ˈsiː/"},{zh:"中国人民解放军",en:"PLA",phonetic_transcription:"/ˌpiː el ˈeɪ/"},{zh:"虚拟现实",en:"VR",phonetic_transcription:"/ˌviː ˈɑː(r)/"},{zh:"世界卫生组织",en:"WHO",phonetic_transcription:"/ˌdʌbljuː eɪtʃ ˈəʊ/"},{zh:"联合国",en:"UN",phonetic_transcription:"/ˌjuː ˈen/"},{zh:"米勒",en:"Miller",phonetic_transcription:"/ˈmɪlə(r)/"}],n=b(0),h=b({word:[""]}),d=e=>{document.getElementsByName("wordInput").forEach(t=>{const o=t;o.value=""}),h.value.word=i[n.value].en.split(" ")},L=e=>{let t=e;if(t.data&&t.data.match(/[\u4e00-\u9fa5]/)||t.data==" "||t.data=="`"){const o=t.target;o.value=o.value.replace(t.data,"")}},w=()=>{let e=!0;document.getElementsByName("wordInput").forEach((t,o)=>{const s=t;s.value!=h.value.word[o]&&(e=!1,s.classList.add("error"),setTimeout(()=>{s.classList.remove("error")},300))}),e?_():C.error("错误")},z=()=>{V(i[n.value].en,3e3)},_=()=>{if(n.value==i.length-1){C.success("恭喜你，完成了本单元的学习"),y();return}d(n.value++)},m=()=>{n.value!=0&&d(n.value--)},g=()=>{const e=document.activeElement;(!e||e.name!="wordInput")&&document.getElementsByName("wordInput")[0].focus()},A=()=>{const e=document.activeElement;if(e&&e.name=="wordInput"){const t=e.nextElementSibling;t&&e.name=="wordInput"&&t.focus()}},k=e=>{e.key==="Enter"?w():e.key==="`"?(z(),e.preventDefault()):e.key==="ArrowRight"?_():e.key==="ArrowLeft"?m():e.key===" "?A():e.key.match(/[a-zA-Z]/)&&g(),e.ctrlKey&&e.key==="z"&&m()},y=()=>{console.log("返回"),F.push("/study/list")};return P(()=>{window.removeEventListener("keydown",k)}),R(()=>{d(),window.addEventListener("keydown",k)}),(e,t)=>{const o=E("el-progress"),s=E("el-button");return v(),f(I,null,[r(o,{percentage:n.value/i.length*100,"show-text":!1},null,8,["percentage"]),r(H,{onLeftClick:y,left:"返回"}),a("div",{class:"container",onClick:g},[a("div",U,x(i[n.value].zh),1),a("div",Z,x(i[n.value].phonetic_transcription),1),a("div",q,[(v(!0),f(I,null,T(h.value.word,M=>(v(),f("input",{name:"wordInput",onInput:L,style:W({width:M.length*13+"px"}),autocomplete:"off"},null,36))),256))]),S(a("div",J,[r(s,{onClick:z},{default:p(()=>t[0]||(t[0]=[l("提示")])),_:1}),r(s,{onClick:m},{default:p(()=>t[1]||(t[1]=[l("上一个")])),_:1}),r(s,{onClick:_},{default:p(()=>t[2]||(t[2]=[l("下一个")])),_:1}),r(s,{onClick:w},{default:p(()=>t[3]||(t[3]=[l("提交")])),_:1})],512),[[j,D(u)]])])],64)}}}),$=G(Q,[["__scopeId","data-v-8d969ad3"]]);export{$ as default};
